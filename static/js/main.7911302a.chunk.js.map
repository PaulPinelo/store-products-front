{"version":3,"sources":["services/ProductService.js","contexts/ProductContext.jsx","components/ProductForm.jsx","components/ProductList.jsx","App.js","reportWebVitals.js","index.js"],"names":["ProductService","baseUrl","product","axios","post","this","then","res","data","get","put","_id","id","delete","ProductContext","createContext","ProductContextProvider","props","productService","useState","products","setProducts","editProduct","setEditProduct","useEffect","readAll","Provider","value","createProduct","create","deleteProduct","filter","p","findProduct","find","updateProduct","update","map","children","ProductForm","isVisible","setIsVisible","useContext","initialProductState","name","price","expiry_date","productData","setProductData","updateField","field","console","log","dialogFooter","className","label","icon","onClick","visible","modal","style","width","contentStyle","overflow","header","onHide","footer","onChange","e","target","trim","mode","currency","Date","toISOString","substring","dateFormat","ProductList","textAlign","selectionMode","onSelectionChange","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7911302a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport class ProductService {\r\n\r\n    baseUrl = \"https://store-products-api.herokuapp.com/api/store/\";\r\n\r\n    create(product){\r\n        return axios.post(this.baseUrl+\"product/\", product).then(res => res.data);\r\n    }\r\n\r\n    readAll(){\r\n        return axios.get(this.baseUrl).then(res => res.data);\r\n    }\r\n\r\n    update(product){\r\n        return axios.put(this.baseUrl+\"product/\"+product._id, product).then(res => res.data);\r\n    }\r\n\r\n    delete(id){\r\n        return axios.delete(this.baseUrl+\"product/\"+id).then(res => res.data);\r\n    }\r\n}","import React, { createContext, useState, useEffect } from \"react\";\r\nimport { ProductService } from \"../services/ProductService\";\r\n\r\nexport const ProductContext = createContext();\r\n\r\nconst ProductContextProvider = (props) => {\r\n  const productService = new ProductService();\r\n\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const [editProduct, setEditProduct] = useState(null);\r\n\r\n  useEffect(() => {\r\n    productService.readAll().then((data) => setProducts(data));\r\n  }, []);\r\n\r\n  const createProduct = (product) => {\r\n    productService\r\n      .create(product)\r\n      .then((data) => setProducts([...products, data]));\r\n  };\r\n\r\n  const deleteProduct = (id) => {\r\n    productService\r\n      .delete(id)\r\n      .then(() => setProducts(products.filter((p) => p._id !== id)));\r\n  };\r\n\r\n  const findProduct = (id) => {\r\n    const product = products.find((p) => p._id === id);\r\n\r\n    setEditProduct(product);\r\n  };\r\n\r\n  const updateProduct = (product) => {\r\n    productService\r\n      .update(product)\r\n      .then((data) =>\r\n        setProducts(\r\n          products.map((p) => (p._id === product._id ? data : product))\r\n        )\r\n      );\r\n\r\n    setEditProduct(null);\r\n  };\r\n\r\n  return (\r\n    <ProductContext.Provider\r\n      value={{\r\n        createProduct,\r\n        deleteProduct,\r\n        findProduct,\r\n        updateProduct,\r\n        editProduct,\r\n        products,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </ProductContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ProductContextProvider;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { ProductContext } from \"../contexts/ProductContext\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { InputNumber } from \"primereact/inputnumber\";\r\nimport { Calendar } from \"primereact/calendar\";\r\n\r\nconst ProductForm = (props) => {\r\n  const { isVisible, setIsVisible } = props;\r\n\r\n  const {\r\n    createProduct,\r\n    deleteProduct,\r\n    editProduct,\r\n    updateProduct,\r\n  } = useContext(ProductContext);\r\n\r\n  const initialProductState = {\r\n    _id: null,\r\n    name: \"\",\r\n    price: 0,\r\n    expiry_date: null,\r\n  };\r\n\r\n  const [productData, setProductData] = useState(initialProductState);\r\n\r\n  useEffect(() => {\r\n    if (editProduct) setProductData(editProduct);\r\n  }, [editProduct]);\r\n\r\n  const updateField = (data, field) => {\r\n    setProductData({\r\n      ...productData,\r\n      [field]: data,\r\n    });\r\n\r\n    console.log(productData);\r\n  };\r\n\r\n  const _deleteProduct = () => {\r\n    if (editProduct) {\r\n      deleteProduct(productData._id);\r\n      setProductData(initialProductState);\r\n    }\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const saveProduct = () => {\r\n    if (!editProduct) {\r\n      createProduct(productData);\r\n    } else {\r\n      updateProduct(productData);\r\n    }\r\n    setProductData(initialProductState);\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const dialogFooter = (\r\n    <div className=\"ui-dialog-buttonpane p-clearfix\">\r\n      <Button label=\"Delete\" icon=\"pi pi-times\" onClick={_deleteProduct} />\r\n      <Button label=\"Save\" icon=\"pi pi-check\" onClick={saveProduct} />\r\n    </div>\r\n  );\r\n\r\n  const clearSelected = () => {\r\n    setIsVisible(false);\r\n    setProductData(initialProductState);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        visible={isVisible}\r\n        modal={true}\r\n        style={{ width: \"420px\" }}\r\n        contentStyle={{ overflow: \"visible\" }}\r\n        header=\"Detalles del Producto\"\r\n        onHide={() => clearSelected()}\r\n        footer={dialogFooter}\r\n      >\r\n        <div className=\"p-grid p-fluid\">\r\n          <br />\r\n          <div className=\"p-float-label\">\r\n            <InputText\r\n              value={productData.name}\r\n              onChange={(e) => updateField(e.target.value.trim(), \"name\")}\r\n            />\r\n            <label>Nombre:</label>\r\n          </div>\r\n          <br />\r\n          <div className=\"p-float-label\">\r\n            <InputNumber\r\n              value={productData.price}\r\n              onChange={(e) => updateField(e.target.value, \"price\")}\r\n              mode=\"currency\"\r\n              currency=\"PEN\"\r\n            />\r\n            <label>Precio:</label>\r\n          </div>\r\n          <br />\r\n          <div className=\"p-float-label\">\r\n            <Calendar\r\n              value={\r\n                productData.expiry_date &&\r\n                new Date(productData.expiry_date + \" \")\r\n              }\r\n              onChange={(e) =>\r\n                updateField(\r\n                  e.target.value.toISOString().substring(0, 10),\r\n                  \"expiry_date\"\r\n                )\r\n              }\r\n              dateFormat=\"yy-mm-dd\"\r\n            />\r\n            <label>Fecha de caducidad:</label>\r\n          </div>\r\n          <br />\r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Panel } from \"primereact/panel\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { Button } from \"primereact/button\";\r\nimport { ProductContext } from \"../contexts/ProductContext\";\r\nimport ProductForm from \"./ProductForm\";\r\n\r\nconst ProductList = () => {\r\n  const { products, findProduct } = useContext(ProductContext);\r\n\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const saveProduct = (id) => {\r\n    findProduct(id);\r\n    setIsVisible(true);\r\n  };\r\n\r\n  const footer = (\r\n    <div className=\"p-clearfix\" style={{ width: \"100%\" }}>\r\n      <Button\r\n\r\n        icon=\"pi pi-plus\"\r\n        label=\"Add\"\r\n        onClick={() => setIsVisible(true)}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Panel header=\"LISTA DE PRODUCTOS\" style={{ textAlign: \"center\" }}>\r\n        <DataTable\r\n          value={products}\r\n          selectionMode=\"single\"\r\n          onSelectionChange={(e) => saveProduct(e.value._id)}\r\n          footer={footer}\r\n        >\r\n          <Column field=\"name\" header=\"Nombre\" />\r\n          <Column field=\"price\" header=\"Precio\" />\r\n          <Column field=\"expiry_date\" header=\"Fecha de Caducidad\" />\r\n        </DataTable>\r\n      </Panel>\r\n      <ProductForm isVisible={isVisible} setIsVisible={setIsVisible} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import React from 'react';\nimport 'primereact/resources/themes/bootstrap4-light-blue/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport ProductContextProvider from './contexts/ProductContext';\nimport ProductList from './components/ProductList';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <ProductContextProvider>\n            <ProductList/>\n        </ProductContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}